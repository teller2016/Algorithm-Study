# 5장 - 리스트, 딕셔너리

## 리스트

- 리스트는 순서대로 저장하는 시퀀스이자 변경 가능한 목록을 말한다

  - 입력 순서가 유지된다
  - 내부적으로 동적 배열로 구현되어 있다

- 스택과 큐에서 사용 가능한 모든 연산을 함께 제공

- 주요 연산

  ```python
  len(a)
  a[i]
  a[i:j]
  elem in a
  a.count(elem)
  a.index(elem)
  a.append(elem)
  a.pop()
  a.pop(n)
  del a[i]
  a.sort()
  min(a), max(a)
  a.reverse()
  a.insert(i, elem)	# i인덱스에 elem 삽입
  ```

### 리스트 활용 방법

- 리스트는 숫자 외에 다양한 자료형을 단일 리스트에 관리할 수 있다

- 선언

  ```python
  a = list()
  a = []
  ```

- 인덱스에 요소 추가

  ```python
  a = [1,2,3,4]
  a.insert(3,5) # 인덱스3에 5 삽입
  ```

- 슬라이싱(slicing)

  ```python
  a[1:3] # [2,3]
  a[:3] #[1,2,3] 시작 인덱스 생략
  a[2:] #[3,4] 종료 인덱스 생략
  ```

- 인덱스 예외 처리

  ```python
  try:
      print(a[9])
  except IndexError:
      print('존재하지 않음')
  ```

  - `IndexError`는 인덱스가 리스트 길이 넘어갈 때 발생

- 리스트에서 요소 삭제 방법

  ```python
  a = [1,2,3,4,5]
  a.remove(3)		#해당 요소 삭제
  a	#[1,2,4,5]
  ```

  ```python
  a = [1,2,3,4,5]
  a.pop(3)		#3 인덱스 요소 삭제
  a	#[1,2,3,5]
  ```

## 리스트의 특징

- 파이썬의 리스트는 연속된 공간에 요소를 배치하는 배열의 장점, 다양한 타입을 연결해 배치하는 연결 리스트의 장점을 가졌다
- CPython에서 **리스트는 요소에 대한 포인터 목록을 가지고 있는 구조체**로 선언되어 있다
  - 파이썬의 모든 자료형은 원시 타입이 아닌 객체로 되어있다
  - 객체로 되어 있는 모든 자료형을 포인터로 연결한다
- 리스트는 연결 리스트에 대한 포인터 목록을 관리한다
  - 정수, 문자, 불리언 등 다양한 타입을 동시에 단일 리스트에서 관리 가능하다
- 인덱스를 조회하는데 모든 포인터의 위치를 확인해야 되고 추가 작업이 필요해, 속도 면에서는 느리다

## 딕셔너리

- 키/값 구조로 이뤄진 딕셔너리이다
- 내부적으로는 `해시 테이블`로 구현되어 있다
  - **입력, 조회가 O(1)에 가능하다**
- 파이썬 3.6 이하에서는 입력 순서를 유지하기 위해 `collections.OrderedDict()` 사용해야된다
- 조회 시 항상 디폴트 값을 생성해 키 오류를 방지하는 `collections.defaultdict()`

### 딕셔너리 사용법

- 선언

  ```python
  a = dict()
  a = {}
  ```

- 존재하지 않는 키 조회

  ```python
  try:
      print(a['key4'])
  except IndexError:
      print('존재하지 않는 키')
  ```

- 키/값 확인

  ```python
  for k,v in a.items():
      print(k,v)
  ```

  - `items()` 메소드를 통해 키/값을 각각 꺼내올 수 있다

### 딕셔너리 모듈

#### defaultdict 객체

- 존재하지 않는 키를 조회할 경우, 에러 대신 디폴트 값 기준으로 해당 키에 대한 아이템을 생성해준다

  ```python
  a = collections.defaultdict(int)
  a['A'] = 5
  a['B'] = 4
  
  a['C'] += 1
  a	#{'A':5, 'B':4, 'C':1}
  ```

  - `C`는 존재하지 않는 키다
    - 에러 없이 `+1` 연산이 가능하다

#### Counter 객체

- 아이템에 대한 개수를 계산해 **딕셔너리로 리턴한다**

  ```python
  a = [1,2,3,4,5,5,5,6,6]
  b = collections.Counter(a)
  b	#{5:3, 6:2, 1:1, 2:1, 3:1, 4:1}
  ```

- Counter 객체에서 가장 빈도 수 높은 요소 추출

  ```python
  b.most_common(2)	#가장 빈도가 높은 2개의 요소를 추출
  #[(5,3), (6,2)]
  ```

#### OrderedDict 객체

- 입력 순서를 유지한다
- 3.7부터는 딕셔너리는 내부적으로 인덱스를 이용하며 입력 순서가 유지된다